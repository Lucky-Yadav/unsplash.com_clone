{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lucky\\\\Documents\\\\unsplash.com_clone\\\\unsplash_clone\\\\src\\\\components\\\\Auth\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"../Auth/Auth.css\";\nimport { Box } from \"@mui/material\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { gapi } from \"gapi-script\";\nimport GoogleIcon from '@mui/icons-material/Google';\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { isLogin } from \"../Redux/action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LogIn = () => {\n  _s();\n\n  const clientId = \"975974025399-697jnr8632c8q8v0kfdg8efsr0u0grmm.apps.googleusercontent.com\";\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [bool, setBool] = React.useState(false);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const handleSubmit = () => {\n    fetch(`http://localhost:8080/usersData`).then(res => res.json()).then(res => res.forEach(items => {\n      if (items.email === email) {\n        if (items.password === password) {\n          setBool(false);\n          localStorage.setItem(\"AuthToken\", JSON.stringify(items.token));\n          dispatch(isLogin(true));\n          navigate(\"/\");\n        }\n      } else {\n        setBool(true);\n      }\n    }));\n  };\n\n  const onSuccess = res => {\n    fetch(`http://localhost:8080/usersData`).then(response => response.json()).then(response => response.forEach(items => {\n      if (items.email === res.profileObj.email) {\n        localStorage.setItem(\"AuthToken\", JSON.stringify(items.token));\n        dispatch(isLogin(true));\n        navigate(\"/\");\n      } else {\n        setBool(true);\n      }\n    }));\n  };\n\n  const onFailure = res => {\n    console.log(\"Login Failed, res:\", res);\n  };\n\n  React.useEffect(() => {\n    function start() {\n      gapi.client.init({\n        clientId: clientId,\n        cookiepolicy: 'single_host_origin',\n        scope: \"\"\n      });\n    }\n\n    gapi.load(\"client:auth2\", start);\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"Logo\",\n      style: {\n        width: \"70px\",\n        marginTop: 12\n      },\n      src: \"https://unsplash.com/assets/core/logo-black-df2168ed0c378fa5506b1816e75eb379d06cfcd0af01e07a2eb813ae9b5d7405.svg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginTop: 30,\n        marginBottom: -7,\n        fontSize: \"34px\"\n      },\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Welcome Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n        clientId: clientId,\n        render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: renderProps.onClick,\n          className: \"googleLogin\",\n          children: [/*#__PURE__*/_jsxDEV(GoogleIcon, {\n            sx: {\n              marginRight: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 83\n          }, this), \"Login with Google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this),\n        buttonText: \"Login\",\n        onSuccess: onSuccess,\n        onFailure: onFailure,\n        cookiePolicy: 'single_host_origin'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: \"14px\",\n        color: \"grey\"\n      },\n      children: \" OR \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), bool ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        width: \"450px\",\n        height: \"30px\",\n        justifyContent: \"center\",\n        marginTop: 1,\n        alignItems: \"center\",\n        backgroundColor: \"rgb(255, 192, 192)\"\n      },\n      children: \" Incorrect Email or password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"450px\",\n        marginTop: 5\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"loginLabel\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 61\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"loginInput\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 121\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"loginLabel\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 63\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"loginInput\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClick: handleSubmit,\n        className: \"loginSubmit\",\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LogIn, \"N1yukM9tVHSLet8HTN1hDnsDyIc=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n\n_c = LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["React","Box","GoogleLogin","gapi","GoogleIcon","useNavigate","useDispatch","isLogin","LogIn","clientId","email","setEmail","useState","password","setPassword","bool","setBool","navigate","dispatch","handleSubmit","fetch","then","res","json","forEach","items","localStorage","setItem","JSON","stringify","token","onSuccess","response","profileObj","onFailure","console","log","useEffect","start","client","init","cookiepolicy","scope","load","display","flexDirection","alignItems","justifyContent","width","marginTop","marginBottom","fontSize","renderProps","onClick","marginRight","color","height","backgroundColor","e","target","value"],"sources":["C:/Users/Lucky/Documents/unsplash.com_clone/unsplash_clone/src/components/Auth/Login.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"../Auth/Auth.css\"\r\nimport { Box } from \"@mui/material\"\r\nimport { GoogleLogin } from \"react-google-login\"\r\nimport { gapi } from \"gapi-script\"\r\nimport GoogleIcon from '@mui/icons-material/Google';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { isLogin } from \"../Redux/action\";\r\n\r\n\r\nexport const LogIn = () => {\r\n    const clientId = \"975974025399-697jnr8632c8q8v0kfdg8efsr0u0grmm.apps.googleusercontent.com\"\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\")\r\n    const [bool, setBool] = React.useState(false)\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const handleSubmit = () => {\r\n        fetch(`http://localhost:8080/usersData`)\r\n        .then((res) => res.json())\r\n        .then((res) => res.forEach((items) => {\r\n            if(items.email === email){\r\n                if(items.password === password){\r\n                    setBool(false)\r\n                    localStorage.setItem(\"AuthToken\", JSON.stringify(items.token))\r\n                    dispatch(isLogin(true))\r\n                    navigate(\"/\")\r\n                }\r\n            }else{\r\n                setBool(true)\r\n            }\r\n        }))\r\n    }\r\n\r\n    const onSuccess = (res) => {\r\n        fetch(`http://localhost:8080/usersData`)\r\n        .then((response) => response.json())\r\n        .then((response) => response.forEach((items) => {\r\n            if(items.email === res.profileObj.email){\r\n                localStorage.setItem(\"AuthToken\", JSON.stringify(items.token))\r\n                dispatch(isLogin(true))\r\n                navigate(\"/\")\r\n            }else{\r\n                setBool(true)\r\n            }\r\n        }))\r\n    }\r\n\r\n\r\n    const onFailure = (res) => {\r\n        console.log(\"Login Failed, res:\", res)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        function start(){\r\n            gapi.client.init({\r\n                clientId:clientId,\r\n                cookiepolicy: 'single_host_origin',\r\n                scope:\"\"\r\n            })\r\n        }\r\n\r\n        gapi.load(\"client:auth2\", start)\r\n    })\r\n\r\n    return (\r\n        <Box sx={{display:\"flex\",flexDirection:\"column\", alignItems:\"center\", justifyContent:\"center\"}}>\r\n            <img alt=\"Logo\" style={{width:\"70px\", marginTop:12}} src=\"https://unsplash.com/assets/core/logo-black-df2168ed0c378fa5506b1816e75eb379d06cfcd0af01e07a2eb813ae9b5d7405.svg\" />\r\n            <h1 style={{marginTop:30,marginBottom:-7, fontSize:\"34px\"}}>Login</h1>\r\n            <p>Welcome Back</p>\r\n\r\n\r\n            <Box>\r\n                <GoogleLogin\r\n                clientId={ clientId }\r\n                render={renderProps => (\r\n                    <button onClick={renderProps.onClick} className=\"googleLogin\"><GoogleIcon sx={{marginRight:2}}/>Login with Google</button>\r\n                  )}\r\n                buttonText=\"Login\"\r\n                onSuccess={ onSuccess }\r\n                onFailure={ onFailure }\r\n                cookiePolicy={'single_host_origin'}\r\n                />\r\n            </Box>\r\n            <p style={{fontSize:\"14px\", color:\"grey\"}}> OR </p> \r\n            {bool?<Box sx={{display:\"flex\", width:\"450px\", height:\"30px\", justifyContent:\"center\",marginTop:1, alignItems:\"center\", backgroundColor:\"rgb(255, 192, 192)\"}}> Incorrect Email or password</Box>:null }\r\n            <div style={{width:\"450px\", marginTop:5}}>\r\n                <label className=\"loginLabel\" >Email</label><br />\r\n                <input className=\"loginInput\"  value={email} onChange={(e) => setEmail(e.target.value)} type={\"text\"} /><br />\r\n\r\n                <label className=\"loginLabel\">Password</label><br />\r\n                <input className=\"loginInput\" value={password} onChange={(e) => setPassword(e.target.value)} type={\"password\"} />\r\n\r\n                <input onClick={handleSubmit} className=\"loginSubmit\" type={\"submit\"} />\r\n            </div>\r\n        </Box>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}