var e=require("react/jsx-runtime"),r=require("react"),n=require("framer-motion");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=/*#__PURE__*/i(require("debounce-fn"));function o(){return o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function u(e,r){if(null==e)return{};var n,i,t={},o=Object.keys(e);for(i=0;i<o.length;i++)r.indexOf(n=o[i])>=0||(t[n]=e[n]);return t}var s=r.createContext(void 0),l=function(e){var i=e.axisSpring,t=e.scale,o=e.refSize,u=e.windowSize,s=r.useMemo(function(){return o>u?o*t:o},[o,t,u]),l=r.useMemo(function(){return[0,s-u]},[s,u]),c=r.useMemo(function(){return[0,-1*(o-u)]},[o,u]);return{axis:n.useTransform(i,l,c,{clamp:!1}),size:s}},c="function"==typeof ResizeObserver,d=["children","childrenRef","disabled","height","style","width","x","y"],a={position:"fixed",left:0,top:0,right:0,bottom:0},h=function(i){var t=i.children,s=i.childrenRef,l=i.disabled,c=i.height,h=i.style,f=i.width,v=i.x,w=i.y,m=u(i,d),g=r.useMemo(function(){return o({},h,l?{}:{height:c,width:f})},[l,c,h,f]),x=r.useMemo(function(){return l?{}:a},[l]),p=r.useMemo(function(){return{x:l?0:v,y:l?0:w}},[l,v,w]);return e.jsx("div",o({},m,{style:g,children:e.jsx("div",{style:x,children:e.jsx(n.motion.div,{style:p,ref:s,children:t})})}))},f=["children","disabled","scale","spring"],v={damping:50,mass:1.25,stiffness:200},w=r.forwardRef(function(i,d){var a=i.children,w=i.disabled,m=i.scale,g=void 0===m?1:m,x=i.spring,p=void 0===x?v:x,y=u(i,f),S=r.useRef(null),b=function(e){var i,o,u,s=e.ref,d=e.scale,a=e.spring,h=r.useMemo(function(){return Math.max(1,d)},[d]),f=(o=(i=r.useState({height:0,width:0}))[0],u=i[1],r.useEffect(function(){var e=function(){return u({width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight})};return e(),window.addEventListener("resize",e,!1),function(){return window.removeEventListener("resize",e,!1)}},[]),o),v=f.height,w=f.width,m=function(e){var n=r.useState({height:0,width:0}),i=n[0],o=n[1];return r.useEffect(function(){var r=function(){return o({height:null!=(n=null==(r=e.current)?void 0:r.scrollHeight)?n:0,width:null!=(i=null==r?void 0:r.scrollWidth)?i:0});var r,n,i},n=t.default(r,{wait:400}),i=null;return e.current&&(r(),window.addEventListener("resize",n),c&&(i=new ResizeObserver(r)).observe(e.current)),function(){window.removeEventListener("resize",n),i&&i.disconnect()}},[]),i}(s),g=m.height,x=m.width,p=function(e){var r=n.useViewportScroll(),i=r.scrollX,t=r.scrollY,o="object"==typeof e?e:void 0,u=n.useSpring(i,o),s=n.useSpring(t,o);return{x:o?u:i,y:o?s:t}}(a),y=p.x,S=p.y,b=l({axisSpring:y,scale:h,refSize:x,windowSize:w}),z=b.axis,M=b.size,j=l({axisSpring:S,scale:h,refSize:g,windowSize:v});return{height:j.size,width:M,scrollX:y,scrollY:S,x:z,y:j.axis}}({ref:S,scale:g,spring:p}),z=b.height,M=b.width,j=b.scrollX,E=b.scrollY,O=b.x,R=b.y;r.useImperativeHandle(d,function(){return{scrollX:j,scrollY:E,x:O,y:R}},[j,E,O,R]);var H=r.useMemo(function(){return{scrollX:j,scrollY:E,x:O,y:R}},[j,E,O,R]);return e.jsx(h,o({},y,{childrenRef:S,disabled:w,height:z,width:M,x:O,y:R,children:e.jsx(s.Provider,{value:H,children:a})}))});w.displayName="ScrollerMotion",exports.ScrollerMotion=w,exports.useScrollerMotion=function(){var e=r.useContext(s);if(void 0===e)throw new Error("useScrollerMotion must be used within ScrollerMotion");return e};
//# sourceMappingURL=index.js.map
